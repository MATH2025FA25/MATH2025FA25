{
  "hash": "9078cadf8e91a1ebf4c1f82689ced206",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"AE 07: Multiple Linear Regression\"\nsubtitle: \"Credit Cards\"\neditor: visual\nformat:\n  html:\n    embed-resources: true\n---\n\n\n\n\n::: callout-important\n-   Open [RStudio](https://rstudio.collegeofidaho.edu/) and create a subfolder in your AE folder called \"AE-07\".\n\n-   Go to the [Canvas](https://cofi.instructure.com/courses/17093/assignments/202838) and locate your `AE-07` assignment to get started.\n\n-   Upload the `ae-07.qmd` file into the folder you just created.\n:::\n\n## Packages + data\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggformula)\nlibrary(broom)\nlibrary(mosaic)\nlibrary(knitr)\nlibrary(ISLR2)\nlibrary(GGally)\nlibrary(yardstick)\n```\n:::\n\n\n\n\nThe data for this AE is from the `Credit` data set in the **ISLR2** R package. It is a simulated data set of 400 credit card customers. We will focus on the following variables:\n\n**Response**\n\n-   `Limit`: Credit limit\n\n**Predictors**\n\n-   Everyone:\n\n    -   `Rating`: Credit Rating\n\n-   Group 1:\n\n    -   `Age`\n    -   `Own`\n\n-   Group 2:\n\n    -   `Balance`\n    -   `Student`\n\n-   Group 3:\n\n    -   `Education`\n    -   `Region`\n\n-   Group 4:\n\n    -   `Income`\n    -   `Married`\n\n## Analysis goal\n\nThe goals of this analysis is to fit a multiple linear regression model that that predicts a person's credit limit.\n\n## Exercise 0\n\nLook at the documentation for the data using `?Credit` and Google to figure out what each of your variables represents. What is a credit rating and what is a credit limit as it applies to a credit card? The primary credit rating in the US is called a FICO score. Use `favstats` on `Rating`. Do you think that `Rating` corresponds to the borrower's FICO score?\n\nWithout writing any more code (i.e. just using what you know about the world):\n\n-   Do you think `Rating` will be a good predictor of `Limit`?\n-   In addition to `Limit`, everyone has been assigned two additional variables, one quantitative and one categorical. Do you think these two variables will be predictive of `Limit`?\n\n## Exercise 1\n\nUse the function `ggpairs` from the `GGally` package (already loaded) to create a matrix of plots and correlations for your four variables of interest. Note that you will have to use `select` to select the four columns you are interested in. Which variable do you think will be the best predictor of `Limit`?\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nCredit |> \n  select(Limit, Rating) |> # add your extra variables here.\n  ggpairs()\n```\n\n::: {.cell-output-display}\n![](ae-07-mlr_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n:::\n\n\n\n\n## Exercise 2\n\nFit a linear model with just `Rating` as the predictor and get the p-value associated with it's coefficient. Is it statistically significant?\n\n## Exercise 3\n\nFit a linear model with just your second quantitative predictor and get the p-value associated with it's coefficient. Is it statistically significant?\n\n## Exercise 4\n\nFit a model with both `Income` and your second quantitative variable as predictors. Find a spot on the white board to write down an equation representing the fitted model. How do the coefficients and p-values of `Income` and `Rating` compare to those in the two models above? Discuss what you see and the possible reasons you see them.\n\n## Exercise 5\n\nInterpret all coefficients in the model.\n\n## Exercise 6\n\nUse `head` to look at the first observation in the data set. Use addition, subtraction, multiplication, and division to figure out what credit limit your model would predict for a person with the same characteristics of this person.\n\n## Exercise 7\n\nNow use the `predict` function to verify the value you computed in the previous exercise and compute a 90% prediction interval. How would you interpret this interval in context?\n\n## Exercise 8\n\nFit a linear model predicting `Limit` from **ONLY** your categorical variable. What is the reference level?\n\n## Exercise 9\n\nWITHOUT WRITING ANY CODE except for addition, subtraction, multiplication, and addition, what would the model predict the average `Limit` to be for each of the level of your categorical variable?\n\n## Exercise 10\n\nCompute the average `Limit` for each level in your categorical variable. Hint: you can use \"formulas\" (i.e. `repsonse ~ explanatory`) in the `mean` function from the `mosaic` package. How do these answers compare to your answers from Exercise 9?\n\n## Exercise 11\n\nFit a linear model using your quantitative and your categorical variable as predictors (don't use `Rating`). Use the function `plotModel` to make a nifty plot for your model. Your syntax should look like `plotModel(model_name)`.\n\n## Exercise 12\n\nYour model contains one line for every level of your categorical variable. On the board, write out the equations for two of them.\n\n## Exercise 13\n\nHow do you think the plot above will change if you add in an interaction term between your variables? **AFTER** thinking about it, add in an in the interaction term and plot the model using `plotModel`.\n\n## Exercise 14\n\nYour model contains one line for every level of your categorical variable. On the board, write out the equations for two of them.\n\n## Exercise 15\n\nFit a model with your quantitative predictor, `Rating`, and an interaction term. Write your model on the board.\n\n## Exercise 16 (Optional)\n\nLook back at all of the models that you've fit. If you compare the p-values for the same variable across multiple models, what do you notice?\n\n## Exercise 17 (Optional)\n\nNote that this data set only considers borrowers who have actually been granted loans. How does this impact the generalizability of our analysis?\n\n## To submit the AE\n\n::: callout-important\n-   Render the document to produce the HTML file with all of your work from today's class.\n-   Upload your QMD and HTML files to the Canvas assignment.\n:::\n",
    "supporting": [
      "ae-07-mlr_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}