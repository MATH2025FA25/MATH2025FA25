{
  "hash": "92a5d272c4054e9c80966156037a9c3a",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"AE 03: Simulation-Based Inference\"\nsubtitle: \"Bikeshare\"\neditor: visual\nformat:\n  html:\n    embed-resources: true\n---\n\n\n\n::: callout-important\n-   Open [RStudio](https://rstudio.collegeofidaho.edu/) and create a subfolder in your AE folder called \"AE-03\"\n\n-   Go to the [Canvas](https://cofi.instructure.com/courses/17093/assignments/202831) and locate your `AE 03` assignment to get started.\n\n-   Upload the `ae-03-sbi.qmd` and `dcbikeshare.csv` files into the folder you just created.\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggformula)\nlibrary(broom)\nlibrary(openintro)\nlibrary(kableExtra)\n```\n:::\n\n\n\n## Data\n\nOur dataset contains daily rentals from the Capital Bikeshare in Washington, DC in 2011 and 2012. It was obtained from the `dcbikeshare` data set in the `dsbox` R package.\n\nWe will focus on the following variables in the analysis:\n\n-   `count`: total bike rentals\n-   `temp_orig`: Temperature in degrees Celsius\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbikeshare <- read_csv(\"../data/dcbikeshare.csv\") |>\n  mutate(season = case_when(\n    season == 1 ~ \"winter\",\n    season == 2 ~ \"spring\",\n    season == 3 ~ \"summer\",\n    season == 4 ~ \"fall\"\n  ),\n  season = factor(season))\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 731 Columns: 17\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\ndbl  (16): instant, season, yr, mnth, holiday, weekday, workingday, weathers...\ndate  (1): dteday\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n\n```{.r .cell-code}\nglimpse(bikeshare)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 731\nColumns: 17\n$ instant    <dbl> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, …\n$ dteday     <date> 2011-01-01, 2011-01-02, 2011-01-03, 2011-01-04, 2011-01-05…\n$ season     <fct> winter, winter, winter, winter, winter, winter, winter, win…\n$ yr         <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ mnth       <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…\n$ holiday    <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0,…\n$ weekday    <dbl> 6, 0, 1, 2, 3, 4, 5, 6, 0, 1, 2, 3, 4, 5, 6, 0, 1, 2, 3, 4,…\n$ workingday <dbl> 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1,…\n$ weathersit <dbl> 2, 2, 1, 1, 1, 1, 2, 2, 1, 1, 2, 1, 1, 1, 2, 1, 2, 2, 2, 2,…\n$ temp       <dbl> 0.3441670, 0.3634780, 0.1963640, 0.2000000, 0.2269570, 0.20…\n$ atemp      <dbl> 0.3636250, 0.3537390, 0.1894050, 0.2121220, 0.2292700, 0.23…\n$ hum        <dbl> 0.805833, 0.696087, 0.437273, 0.590435, 0.436957, 0.518261,…\n$ windspeed  <dbl> 0.1604460, 0.2485390, 0.2483090, 0.1602960, 0.1869000, 0.08…\n$ casual     <dbl> 331, 131, 120, 108, 82, 88, 148, 68, 54, 41, 43, 25, 38, 54…\n$ registered <dbl> 654, 670, 1229, 1454, 1518, 1518, 1362, 891, 768, 1280, 122…\n$ count      <dbl> 985, 801, 1349, 1562, 1600, 1606, 1510, 959, 822, 1321, 126…\n$ temp_orig  <dbl> 14.110847, 14.902598, 8.050924, 8.200000, 9.305237, 8.37826…\n```\n\n\n:::\n:::\n\n\n\n## Exercises\n\nIn this activity, each group will be assigned a season to use:\n\n-   Group 1: `winter`\n-   Group 2: `spring`\n-   Group 3: `summer`\n-   Group 4: `fall`\n\n### Exercise 0\n\nFilter the `bikeshare` data set so that it only contains observations from your assigned season. Make sure to give the new data set a different name.\n\n### Exercise 1\n\nConduct a little EDA. Generate a scatter plot of the number of bike rentals vs the temperature for your season by filling in the blanks in the code below. What do you think `alpha` does?\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngf______(______, data = ______, alpha = 0.7) |> \n  gf_labs(\n    x = \"Temperature (C)\",\n    y = \"Number of Bike Rentals\",\n  )\n```\n:::\n\n\n\n### Exercise 2\n\nFit a simple linear regression model, display the results to two decimal places, and be prepared to discuss the interpretation of the resulting slope and intercept.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel_fit <- lm(_____ ~ ______, data = _____)\n\ntidy(_____) |>\n  kable(digits = _____)\n```\n:::\n\n\n\n### Exercise 3\n\nLoad the `infer` package and calculate the observed fit (slope)\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nobserved_fit <- ____ |>\n  specify(count ~ temp_orig) |>\n  fit()\n\nobserved_fit\n```\n:::\n\n\n\n### Exercise 4\n\nTake *n* bootstrap samples and fit models to each one.\n\nFill in the code, then set `eval: true` .\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nn <- 100\nset.seed(212)\n\nboot_fits <- ______ |>\n  specify(______) |>\n  generate(reps = ____, type = \"bootstrap\") |>\n  fit()\n\nboot_fits\n```\n:::\n\n\n\n-   Why do we set a seed before taking the bootstrap samples?\n\n### Exercise 5 (Challenging)\n\nMake a histogram of the bootstrap samples to visualize the bootstrap distribution.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Code for histogram\n```\n:::\n\n\n\n### Exercise 6\n\nCompute *and interpret* the 95% confidence interval as the middle 95% of the bootstrap distribution.\n\nFill in the code, then set `eval: true` .\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nget_confidence_interval(\n  boot_fits,\n  point_estimate = _____,\n  level = ____,\n  type = \"percentile\"\n)\n```\n:::\n\n\n\n### Exercise 7\n\nModify the code from Exercise 6 to create a 90% confidence interval.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Paste code for 90% confidence interval\n```\n:::\n\n\n\n### Exercise 8\n\nModify the code from Exercise 6 to create a 90% confidence interval.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Paste code for 90% confidence interval\n```\n:::\n\n\n\n### Exercise 9\n\n-   Which confidence level produces the most accurate confidence interval (90%, 95%, 99%)? Explain\n\n-   Which confidence level produces the most precise confidence interval (90%, 95%, 99%)? Explain\n\n-   If we want to be very certain that we capture the population parameter, should we use a wider or a narrower interval? What drawbacks are associated with using a wider interval?\n\n### Exercise 10\n\n-   If your sample size $n$ is increased, what impact do you think this will have on accuracy and precision?\n\n-   What about if you increase the number of bootstrapped replicates?\n\n### Exercise 11\n\nYour professor is interested in calculating the average amount of time CofI students spend doing homework.\n\n-   If he collects a set of data and asks 100 students to compute 95% confidence intervals from that data, how many of those would you expect to contain the true average?\n\n-   If, instead, he has each of those 100 students collect their own data and compute 95% confidence intervals from their own data, how many would you expect to contain the true average?\n\n### Exercise 12\n\nWrite down your research question in words then state the null and alternative hypotheses in both words and mathematical notation. You can use dollar signs to engage \"math mode\".\n\n$$\nH_0: \n$$\n\n### Exercise 13\n\nGenerate null distribution using permutation\n\nFill in the code, then set `eval: true` .\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nn = 100\nset.seed(212)\n\nnull_dist <- _____ |>\n  specify(______) |>\n  hypothesize(null = \"independence\") |>\n  generate(reps = _____, type = \"permute\") |>\n  fit()\n```\n:::\n\n\n\n### Exercise 14\n\nVisualize the null distribution. Does your slope seem unusual if we assume the null hypothesis is the truth?\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Code for histogram of null distribution\n```\n:::\n\n\n\n### Exercise 15\n\nFill in the code below to compute the p-value. Have your reporter write the value on the board.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# get observed fit \nobserved_fit <- _____ |>\n  specify(____) |>\n  fit()\n\n# calculate p-value\nget_p_value(\n  ____,\n  obs_stat = ____,\n  direction = \"two-sided\"\n)\n```\n:::\n\n\n\n### Exercise 16\n\n-   Do larger or smaller p-values provide evidence for the alternative hypothesis?\n\n-   Do larger or smaller p-values provide evidence for your research question?\n\n-   Interpret your p-value in the context of the problem. Do you think your data provides strong evidence for your research question?\n\n::: callout-important\nTo submit the AE:\n\nRender the document to produce the HTML with all of your work from today's class.\n\nThe driver for your group should upload your .qmd and .html files to the Canvas assignment.\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}