{
  "hash": "6975a5a938092c45ce357b210c6c753f",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"AE 17: Multicollinearity\"\nsubtitle: \"Rail Trail\"\neditor: visual\nformat:\n  html:\n    embed-resources: true\n---\n\n\n\n::: callout-important\n-   Open [RStudio](https://rstudio.collegeofidaho.edu/) and create a subfolder in your AE folder called \"AE-17\".\n\n-   Go to the [Canvas](https://cofi.instructure.com/courses/15692/assignments/184069) and locate your `AE-17` assignment to get started.\n\n-   Upload the `ae-17.qmd` and `rail_trail.csv` files into the folder you just created. The `.qmd` and PDF responses are due in Canvas. You can check the due date on the Canvas assignment.\n:::\n\n## Packages + data\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggformula)\nlibrary(GGally)\nlibrary(broom)\nlibrary(knitr)\nlibrary(mosaic)\nlibrary(mosaicData)\n\nrail_trail <- read_csv(\"../data/rail_trail.csv\")\n```\n:::\n\n\n\nThe data for this AE is based on data from the Pioneer Valley Planning Commission (PVPC) and is included in the **mosaicData** package. The PVPC collected data for ninety days from April 5, 2005 to November 15, 2005. Data collectors set up a laser sensor, with breaks in the laser beam recording when a rail-trail user passed the data collection station. More information can be found [here](http://www.fvgreenway.org/pdfs/Northampton-Bikepath-Volume-Counts%20_05_LTA.pdf).\n\n## Analysis goal\n\nThe goals of this activity are to:\n\n-   Detect and remedy multicollinearity in our data\n\n## Exercise 0\n\nFit a linear model to predict `volume` from ALL of the other predictors. The resulting model is called the \"full model\".\n\n## Exercise 1\n\nCreate a new data frame called `rail_trail_new` with two new columns, `hightemp_c` and `avgtemp_c`. These two new columns should store the `hightemp` and `avgtemp` measured in Celsius rather than Fahrenheit. Note that the formula to convert between Fahrenheit and Celsius is $C = (F-32)\\times \\frac{5}{9}$. Make sure `hightemp` and `avgtemp` are still in your data set.\n\n## Exercise 2\n\nTry to refit the full model on your data. Do you notice anything odd about your coefficients? If so, what do you think is happening?\n\n## Exercise 3\n\nAdd a comment next to each line of code explaining what that line of code is doing.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(corrplot)\n\nrail_trail |> # Take the rail_trail data set and then\n  select(-volume) |> # What do I do\n  select(where(is.numeric)) |> # What do I do\n  cor() |>   # What do I do\n  corrplot(method=\"number\") # What do I do\n```\n\n::: {.cell-output-display}\n![](ae-09-multicollinearity-comparison_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n\n```{.r .cell-code}\nrail_trail |> \n  select(-volume) |> # What do I do\n  ggpairs()\n```\n\n::: {.cell-output-display}\n![](ae-09-multicollinearity-comparison_files/figure-html/unnamed-chunk-1-2.png){width=672}\n:::\n:::\n\n\n\n## Exercise 4\n\nBased on the output from the previous exercise, do you have reason to believe that our data is exhibiting multicollinearity?\n\n## Exercise 5\n\nPipe the model you fit in Exercise 0 (i.e. not including the variable measured in Celcius) into the function `vif`. Are any of the vif's concerning? If so, which ones.\n\n## Exercise 6\n\nFit two models:\n\n-   `m1`: use all predictors except for `avgtemp`\n-   `m2`: use all predictors except for `hightemp`\n-   `m3`: average `avgtemp` and `hightemp` together and use it instead of either `avgtemp` and `hightemp`\n\n## Exercise 7\n\nUse `glance` to compute the $R^2_{adj}$, AIC, and BIC for both of these models. Which should we choose?\n\n## To submit the AE\n\n::: callout-important\n-   Render the document to produce the PDF with all of your work from today's class.\n-   Upload your QMD and PDF files to the Canvas assignment.\n:::\n",
    "supporting": [
      "ae-09-multicollinearity-comparison_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}